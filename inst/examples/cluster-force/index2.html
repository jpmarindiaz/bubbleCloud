<!DOCTYPE html>
<meta charset="utf-8">
<body>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script type="text/javascript" src="http://code.jquery.com/jquery-1.6.2.min.js"></script>
<script type="text/javascript" src="jquery.tipsy.js"></script>

<!-- http://bl.ocks.org/ilyabo/1373263 -->
<link rel="stylesheet" type="text/css" href="tipsy.css">

<script>

var width = 560,
    height = 500,
    padding = 1.5, // separation between same-color nodes
    clusterPadding = 6, // separation between different-color nodes
    maxRadius = 12;

var n = 200, // total number of nodes
    m = 10; // number of distinct clusters

var color = d3.scale.category10()
    .domain(d3.range(m));

// The largest node for each cluster.
//var clusters = new Array(m);
var clusters = [
 {
 "group": "tag1",
"x": "3.977219",
"y": "2.210918",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag2",
"x": "7.394561",
"y": "2.221507",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag3",
"x": "8.553031",
"y": "4.540144",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag4",
"x": "3.915142",
"y": "9.038702",
"radius": "5",
"cluster": "3" 
} 
];

console.log(clusters)

// var nodes = d3.range(n).map(function() {
//   var i = Math.floor(Math.random() * m),
//       r = Math.sqrt((i + 1) / m * -Math.log(Math.random())) * maxRadius,
//       d = {
//         cluster: i,
//         radius: r,
//         x: Math.cos(i / m * 2 * Math.PI) * 200 + width / 2 + Math.random(),
//         y: Math.sin(i / m * 2 * Math.PI) * 200 + height / 2 + Math.random()
//       };
//   if (!clusters[i] || (r > clusters[i].radius)) clusters[i] = d;
//   return d;
// });

console.log(JSON.stringify(clusters))

var nodes = [
 {
 "group": "tag1",
"x": "3.977219",
"y": "2.210918",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "5.127374",
"y": "6.320290",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "9.647928",
"y": "3.537880",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "4.945728",
"y": "2.827258",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "8.559761",
"y": "2.922414",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "6.769651",
"y": "7.464362",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "8.037970",
"y": "2.917406",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "2.311383",
"y": "2.705798",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "2.262819",
"y": "1.194636",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "3.097094",
"y": "3.653305",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "6.564896",
"y": "9.873987",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "6.394151",
"y": "4.191005",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "6.845724",
"y": "3.484788",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "7.688059",
"y": "8.823243",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "4.928823",
"y": "1.536922",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "3.339964",
"y": "5.847207",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "7.006511",
"y": "3.357504",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "3.263139",
"y": "1.705084",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "9.292456",
"y": "6.198633",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "9.610485",
"y": "5.303276",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "6.304107",
"y": "5.834207",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "2.084214",
"y": "8.320104",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "1.284495",
"y": "7.491985",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "1.455610",
"y": "1.289964",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "2.636183",
"y": "8.422610",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "8.513811",
"y": "5.893049",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "4.504207",
"y": "8.047607",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "5.347524",
"y": "2.232098",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "3.078613",
"y": "7.845263",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "6.073552",
"y": "7.559336",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "8.118852",
"y": "7.449207",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "3.605212",
"y": "6.289120",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "6.540348",
"y": "2.999265",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "4.048813",
"y": "9.750855",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "2.710936",
"y": "5.929518",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "5.713744",
"y": "6.411819",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "7.014418",
"y": "5.103335",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "9.476129",
"y": "7.579149",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "6.506933",
"y": "6.424921",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "5.146209",
"y": "5.417734",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "3.037183",
"y": "4.981331",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "7.688086",
"y": "7.590797",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "4.056229",
"y": "1.075846",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "3.219089",
"y": "4.193620",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "3.167299",
"y": "3.089576",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "9.583697",
"y": "4.083575",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "2.017355",
"y": "1.576044",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "2.874713",
"y": "7.937897",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "7.887100",
"y": "3.178211",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "2.368723",
"y": "8.995226",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "6.955722",
"y": "2.679715",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "2.637321",
"y": "8.563351",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "1.215265",
"y": "7.715852",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "3.439660",
"y": "8.623393",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "9.598063",
"y": "5.952367",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "2.395799",
"y": "7.814776",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "3.350575",
"y": "3.629326",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "7.319860",
"y": "5.556298",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "8.033643",
"y": "5.963462",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "9.725768",
"y": "9.618433",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "1.451458",
"y": "1.095420",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "9.638716",
"y": "8.401462",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "7.450174",
"y": "3.472891",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag1",
"x": "7.037857",
"y": "5.268323",
"radius": "5",
"cluster": "0" 
},
{
 "group": "tag2",
"x": "7.394561",
"y": "2.221507",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "9.537047",
"y": "2.977557",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "9.786652",
"y": "9.811879",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "5.685777",
"y": "5.319979",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "7.945526",
"y": "8.400588",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "4.587553",
"y": "2.019871",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "4.129808",
"y": "1.704879",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "2.046604",
"y": "5.019130",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "7.149041",
"y": "3.511312",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "6.089577",
"y": "8.503286",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "8.570793",
"y": "8.408466",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "3.550020",
"y": "1.736235",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "5.862311",
"y": "5.157649",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "2.933425",
"y": "1.166230",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "6.270419",
"y": "3.903350",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "3.930179",
"y": "2.629042",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "5.595547",
"y": "6.869934",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "5.917841",
"y": "8.390734",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "1.712334",
"y": "3.303636",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "6.875252",
"y": "6.625253",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "8.329290",
"y": "9.683103",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "5.994734",
"y": "6.812695",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "3.885150",
"y": "2.604770",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "8.528185",
"y": "9.446609",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "1.320497",
"y": "6.338935",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "6.104906",
"y": "2.109707",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "2.317911",
"y": "5.139489",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "2.926249",
"y": "9.501308",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "1.277298",
"y": "3.030844",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "4.367539",
"y": "3.956468",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "4.508362",
"y": "5.276918",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "4.263732",
"y": "4.571663",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "3.777626",
"y": "6.585270",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "5.796073",
"y": "7.711684",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "1.024449",
"y": "7.450999",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "9.127206",
"y": "1.444022",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "5.454733",
"y": "9.483097",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "6.306265",
"y": "2.135164",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "8.506365",
"y": "8.394916",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "4.441384",
"y": "6.952156",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "6.612846",
"y": "7.752689",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "5.347006",
"y": "4.057783",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "2.234781",
"y": "2.987331",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "9.092838",
"y": "3.580853",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "7.834444",
"y": "1.361693",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "8.286732",
"y": "7.639257",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "9.969948",
"y": "3.684787",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "3.284444",
"y": "7.020694",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "5.121149",
"y": "2.956956",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "2.858669",
"y": "9.509140",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "8.130364",
"y": "5.946962",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "1.465994",
"y": "9.116928",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "3.582982",
"y": "4.125511",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "1.099143",
"y": "5.971724",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "5.106229",
"y": "9.577985",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "7.616428",
"y": "2.787262",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag2",
"x": "7.083747",
"y": "8.403926",
"radius": "5",
"cluster": "1" 
},
{
 "group": "tag3",
"x": "8.553031",
"y": "4.540144",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "3.218331",
"y": "7.113717",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "2.045879",
"y": "3.692270",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "9.261225",
"y": "6.137232",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "9.568780",
"y": "2.807471",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "1.923500",
"y": "5.028162",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "2.716669",
"y": "5.963335",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "5.968062",
"y": "5.563950",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "6.398229",
"y": "9.653195",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "7.173158",
"y": "5.848030",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "7.824857",
"y": "3.365697",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "7.995285",
"y": "4.516070",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "9.112407",
"y": "9.123405",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "9.936186",
"y": "6.333860",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "2.753629",
"y": "3.739522",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "9.144294",
"y": "9.647695",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "4.128931",
"y": "2.405352",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "1.736870",
"y": "1.257981",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "1.754974",
"y": "2.580428",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "7.973032",
"y": "9.470663",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "1.630129",
"y": "3.259446",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "8.404162",
"y": "2.559778",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "5.461351",
"y": "7.444339",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "2.377974",
"y": "8.125560",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "7.256979",
"y": "5.371008",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "2.047592",
"y": "2.122759",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "9.534608",
"y": "7.976636",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "2.998017",
"y": "6.951689",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "6.431183",
"y": "3.324452",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "7.235941",
"y": "2.240660",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "5.289595",
"y": "3.088739",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "6.842012",
"y": "5.955159",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "8.832662",
"y": "4.586574",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "6.064851",
"y": "8.425459",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "8.974416",
"y": "1.359411",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "4.248191",
"y": "4.738812",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "1.939828",
"y": "5.363221",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "4.335686",
"y": "6.045461",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "8.913591",
"y": "5.404891",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "4.943787",
"y": "8.847397",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "6.796092",
"y": "4.404035",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "1.306235",
"y": "7.047389",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "6.376892",
"y": "7.251917",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "4.160391",
"y": "5.730119",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "8.835045",
"y": "6.512027",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "6.877336",
"y": "9.490586",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "6.970639",
"y": "1.827346",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "6.820215",
"y": "8.867986",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "1.432035",
"y": "6.372389",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "2.729743",
"y": "2.487563",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "8.905813",
"y": "6.995346",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "8.987652",
"y": "1.055967",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "2.101334",
"y": "8.125205",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "7.337683",
"y": "5.653823",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "4.684679",
"y": "3.261059",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "6.102051",
"y": "5.724511",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "5.887302",
"y": "2.894419",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "5.967600",
"y": "6.676888",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "6.341563",
"y": "5.560155",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "5.022902",
"y": "5.415666",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "1.973936",
"y": "3.479762",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "4.333179",
"y": "1.505456",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "2.234763",
"y": "1.432363",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "5.868108",
"y": "1.205360",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "5.360582",
"y": "9.402751",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "4.504697",
"y": "6.563093",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "6.328039",
"y": "8.870002",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "3.009608",
"y": "5.817534",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "6.041367",
"y": "5.782494",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "8.600152",
"y": "6.069575",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "9.396811",
"y": "9.851044",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "6.597793",
"y": "6.220681",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "3.663835",
"y": "2.202711",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "6.227608",
"y": "5.699396",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "6.794074",
"y": "3.984696",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "3.884010",
"y": "5.271393",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "6.926574",
"y": "6.795824",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "7.848097",
"y": "1.305574",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "8.714490",
"y": "5.280219",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "6.908225",
"y": "7.482654",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "2.379894",
"y": "1.356634",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "7.391930",
"y": "5.463335",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "3.256552",
"y": "2.296271",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "3.160947",
"y": "1.145173",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "3.852134",
"y": "1.458285",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "7.289932",
"y": "4.740075",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "5.224136",
"y": "7.244218",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "7.711036",
"y": "4.757593",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "8.918753",
"y": "5.630814",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "3.262330",
"y": "4.801725",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "5.979425",
"y": "1.496626",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "4.215504",
"y": "9.435689",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "2.154179",
"y": "4.932853",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "6.444399",
"y": "2.932616",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "6.144236",
"y": "2.630004",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "4.601074",
"y": "2.902780",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "1.786417",
"y": "7.405241",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "7.032430",
"y": "3.625936",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "4.804652",
"y": "9.201946",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "1.026920",
"y": "7.308449",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "3.664351",
"y": "1.377814",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "5.007734",
"y": "8.959718",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "7.126574",
"y": "3.363818",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "8.226932",
"y": "8.976238",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "9.172743",
"y": "4.049252",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "9.398834",
"y": "4.818969",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "2.812917",
"y": "2.742724",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "9.155457",
"y": "1.548085",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "5.391357",
"y": "5.652870",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "4.383666",
"y": "3.014647",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "9.356467",
"y": "9.708901",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "5.325001",
"y": "7.324091",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "8.912817",
"y": "9.190553",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag3",
"x": "5.953331",
"y": "8.219295",
"radius": "5",
"cluster": "2" 
},
{
 "group": "tag4",
"x": "3.915142",
"y": "9.038702",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "8.803792",
"y": "5.463034",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "1.430576",
"y": "1.930012",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "3.172970",
"y": "2.754749",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "5.446173",
"y": "2.762746",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "7.517147",
"y": "1.387644",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "7.729582",
"y": "4.117099",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "3.821698",
"y": "2.633438",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "5.877553",
"y": "3.730480",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "4.593367",
"y": "6.864343",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "3.404244",
"y": "8.512734",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "3.888141",
"y": "5.214517",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "8.773182",
"y": "2.040833",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "2.379624",
"y": "2.124506",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "7.286827",
"y": "4.824806",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "4.348564",
"y": "5.342667",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "5.453866",
"y": "8.827665",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "5.204024",
"y": "2.350162",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "8.606465",
"y": "5.308264",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "9.978711",
"y": "3.844982",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "2.546129",
"y": "6.092792",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "1.553283",
"y": "8.415748",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "6.188355",
"y": "1.655105",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "7.412370",
"y": "4.592229",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "8.640667",
"y": "4.299582",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "9.632184",
"y": "5.371139",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "1.215086",
"y": "7.026119",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "8.596544",
"y": "2.968525",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "6.901517",
"y": "4.412329",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "7.498436",
"y": "7.415167",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "4.885540",
"y": "5.265644",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "3.849827",
"y": "4.989434",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "7.557357",
"y": "1.600457",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "4.839900",
"y": "4.999371",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "1.321460",
"y": "3.719873",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "2.458345",
"y": "9.174633",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "9.994199",
"y": "5.996510",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "5.359254",
"y": "3.402889",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "5.796017",
"y": "9.573065",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "3.974188",
"y": "4.423059",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "7.707445",
"y": "5.424308",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "1.958654",
"y": "2.719688",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "2.181371",
"y": "7.318038",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "6.271832",
"y": "9.543115",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "2.613618",
"y": "1.603799",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "2.227547",
"y": "8.494892",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "9.373919",
"y": "3.067959",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "7.178505",
"y": "1.446401",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "5.451108",
"y": "9.226661",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "6.675140",
"y": "1.570452",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "1.233074",
"y": "1.443754",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "7.778341",
"y": "4.874200",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "7.674801",
"y": "9.414065",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "8.069917",
"y": "3.374319",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "6.023860",
"y": "9.978212",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "3.492372",
"y": "1.437433",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "3.504570",
"y": "5.280448",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "7.834509",
"y": "2.804010",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "9.200379",
"y": "8.892673",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "2.120688",
"y": "2.364498",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "1.594736",
"y": "9.425516",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "1.612738",
"y": "1.833489",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "1.473045",
"y": "9.076372",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "6.755023",
"y": "6.653272",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "7.372089",
"y": "2.072800",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "2.752638",
"y": "5.379706",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "8.358298",
"y": "2.256376",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "2.160623",
"y": "8.329450",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "1.104611",
"y": "6.246479",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "3.154935",
"y": "4.825806",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "1.800063",
"y": "1.180039",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "4.958063",
"y": "8.256217",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "4.459074",
"y": "5.560994",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "3.776887",
"y": "8.575376",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "2.740627",
"y": "3.161039",
"radius": "5",
"cluster": "3" 
},
{
 "group": "tag4",
"x": "6.941951",
"y": "1.097445",
"radius": "5",
"cluster": "3" 
} 
];


console.log(JSON.stringify(nodes))

var force = d3.layout.force()
    .nodes(nodes)
    .size([width, height])
    .gravity(.02)
    .charge(0)
    .on("tick", tick)
    .start();

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height);

var node = svg.selectAll("circle")
    .data(nodes)
  .enter().append("circle")
    .style("fill", function(d) { return color(d.cluster); })
    .call(force.drag);

node.transition()
    .duration(750)
    .delay(function(d, i) { return i * 5; })
    .attrTween("r", function(d) {
      var i = d3.interpolate(0, d.radius);
      return function(t) { return d.radius = i(t); };
    });

function tick(e) {
  node
      .each(cluster(10 * e.alpha * e.alpha))
      .each(collide(.5))
      .attr("cx", function(d) { return d.x; })
      .attr("cy", function(d) { return d.y; });
}

// Move d to be adjacent to the cluster node.
function cluster(alpha) {
  return function(d) {
    var cluster = clusters[d.cluster];
    if (cluster === d) return;
    var x = d.x - cluster.x,
        y = d.y - cluster.y,
        l = Math.sqrt(x * x + y * y),
        r = d.radius + cluster.radius;
    if (l != r) {
      l = (l - r) / l * alpha;
      d.x -= x *= l;
      d.y -= y *= l;
      cluster.x += x;
      cluster.y += y;
    }
  };
}

// Resolves collisions between d and all other circles.
function collide(alpha) {
  var quadtree = d3.geom.quadtree(nodes);
  return function(d) {
    var r = d.radius + maxRadius + Math.max(padding, clusterPadding),
        nx1 = d.x - r,
        nx2 = d.x + r,
        ny1 = d.y - r,
        ny2 = d.y + r;
    quadtree.visit(function(quad, x1, y1, x2, y2) {
      if (quad.point && (quad.point !== d)) {
        var x = d.x - quad.point.x,
            y = d.y - quad.point.y,
            l = Math.sqrt(x * x + y * y),
            r = d.radius + quad.point.radius + (d.cluster === quad.point.cluster ? padding : clusterPadding);
        if (l < r) {
          l = (l - r) / l * alpha;
          d.x -= x *= l;
          d.y -= y *= l;
          quad.point.x += x;
          quad.point.y += y;
        }
      }
      return x1 > nx2 || x2 < nx1 || y1 > ny2 || y2 < ny1;
    });
  };
}


  $('svg circle').tipsy({ 
    gravity: 'w', 
    html: true, 
    title: function() {
      var d = this.__data__;
      var c = d.cluster;
      var id = d.radius
      return "radius: " + d + '...Hi there! My color is <span style="color:' + c + '">' + c + '</span>'; 
    }
  });


</script>